!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.BeatBlocks=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";a("./util/handlebar-extensions");var c=a("./widget-base"),d=a("./util/config-manager")();b.exports={widget:function(a,b){var c=d.config(a);if(c)return new c(b);throw new Error("Can't find '"+a+"' widget.")},addWidgetToRegistry:function(a,b){d.config(a,b)},listWidgets:function(){return d.list()},helpers:{widgetBase:c}}},{"./util/config-manager":2,"./util/handlebar-extensions":3,"./widget-base":5}],2:[function(a,b){(function(a){"use strict";var c="undefined"!=typeof window?window._:"undefined"!=typeof a?a._:null,d=function(){function a(a,b){function c(a,b,c){return b?a[b.slice(0,c?-1:b.length)]:a}function d(a,b){return b?b.split("[").reduce(c,a):a}return b.split(".").reduce(d,a)}function b(a,b){var c,d=b,e=b.match(/\[[0-9]+\]/i);return b=e[0],c=d.replace(b,""),b=b.replace("[","").replace("]",""),Array.isArray(a[c])?(a=a[c],{key:b,object:a}):!1}function d(){if(0===arguments.length)return c.cloneDeep(e);if(1===arguments.length){if(c.isObject(arguments[0]))return e=c.defaults(arguments[0],e),c.cloneDeep(e);if(c.isString(arguments[0]))return a(e,arguments[0])}return 2===arguments.length?f(e,arguments[0],arguments[1])?c.cloneDeep(e):!1:void 0}var e={},f=function h(a,c,d){if("string"==typeof c&&(c=c.split(".")),!(c instanceof Array)||0===c.length)return!1;c=c.slice();var e=c.shift();if("object"!=typeof a||null===a)return!1;if(-1!==e.indexOf("[")){var f=b(a,e);if(e===!1)return!1;e=f.key,a=f.object}return 0!==c.length?("undefined"==typeof a[e]&&(a[e]={}),"object"!=typeof a[e]||null===a[e]?!1:h(a[e],c,d)):void(a[e]=d)},g=function(){return d.apply(this,arguments)};return g.config=function(){return d.apply(this,arguments)},g.has=function(b){return a(e,b)?!0:!1},g.list=function(){return c.keys(e)},g};b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(){(function(a){"use strict";var b="undefined"!=typeof window?window.Handlebars:"undefined"!=typeof a?a.Handlebars:null,c="undefined"!=typeof window?window.moment:"undefined"!=typeof a?a.moment:null;b.registerHelper("dateFormat",function(b,d){if(a.moment){var e=d.hash.format||"MMM Do, YYYY",f=new Date(b);return c(f).format(e)}return b})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(a,b){"use strict";var c=function(){return void 0===window};b.exports={isNode:c}},{}],5:[function(a,b){(function(c){"use strict";var d="undefined"!=typeof window?window.d3:"undefined"!=typeof c?c.d3:null,e="undefined"!=typeof window?window.Handlebars:"undefined"!=typeof c?c.Handlebars:null,f=a("./util/config-manager"),g=a("./util/junk-drawer"),h=function(a){this._config=f(),a&&this.config(a)};h.prototype.config=function(){var a=this._config.apply(this,arguments);return a?a:this},h.prototype.has=function(a){return this._config.has(a)},h.prototype.render=function(a){var b=d.selectAll(a),c=this;this._compile(b,function(){g.isNode()||c.link(b)})},h.prototype._compile=function(a,b){var c=this.config(),e=this;c.configFile?d.json(c.configFile,function(c,d){for(var f in d)e.config(f,d[f]);e.compile(a,b)}):this.compile(a,b)},h.prototype.compile=function(a,b){this.template(function(c){a.classed("config-block-processed",!0).html(c),b()})},h.prototype.link=function(){},h.prototype.template=function(a){var b=this.config();if(!b.template)throw new Error("No widget template specified.");if("function"==typeof b.template)a(b.template(b));else if("#"===b.template.charAt(0)){var c=d.select(b.template).html(),f=e.compile(c);a(f(b))}else d.text(b.template,function(c){var d=e.compile(c);a(d(b))})},b.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util/config-manager":2,"./util/junk-drawer":4}]},{},[1])(1)});